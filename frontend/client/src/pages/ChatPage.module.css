.chatPageContainer {
    display: flex;
    height: calc(100vh - 60px); /* Assuming navbar height is 60px */
    background-color: #f8f9fa;
    position: relative;
    overflow: hidden; /* Prevent scrollbars caused by transitions */
}

.chatSidebar {
    background-color: #ffffff;
    border-right: 1px solid #dee2e6;
    flex-shrink: 0;
    width: 280px;
    min-width: 280px; /* Desktop default width */
    padding: 15px;
    transition: width 0.3s ease-in-out, min-width 0.3s ease-in-out, padding 0.3s ease-in-out, transform 0.3s ease-in-out;
    overflow-y: auto; /* Allow scrolling if content overflows */
    overflow-x: hidden;
    white-space: nowrap;
}

.chatSidebarHidden {
    width: 0;
    min-width: 0;
    padding: 0;
    border-right: none;
    overflow: hidden;
}

.mainChatArea {
    flex: 1;
    display: flex;
    flex-direction: column;
    padding: 20px;
    position: relative; /* Needed for absolute positioning of toggle button */
    overflow-y: auto; /* Allow messages to scroll */
}

.messageList {
    flex: 1;
    overflow-y: auto;
    margin-bottom: 15px;
    padding: 10px;
}

.inputForm {
    margin-top: auto;
    padding-top: 15px;
    border-top: 1px solid #dee2e6;
}

.inputControls {
    display: flex;
    align-items: center;
    gap: 10px; /* Add gap between input elements */
}

.fileUploadButton {
    padding: 10px;
    cursor: pointer;
    border: 1px solid #ccc;
    border-radius: 50%;
    background: #eee;
    flex-shrink: 0; /* Prevent button from shrinking */
}
.fileUploadButton:disabled {
    cursor: not-allowed;
    opacity: 0.6;
}

.fileName {
    font-size: 0.8em;
    color: #6c757d;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
    max-width: 100px;
    flex-shrink: 0; /* Prevent shrinking */
}

.messageInput {
    flex: 1;
    padding: 12px 15px;
    border-radius: 20px;
    border: 1px solid #ced4da;
    font-size: 1rem;
}

.sendButton {
    padding: 10px 20px;
    border-radius: 20px;
    border: none;
    background-color: #007bff;
    color: white;
    cursor: pointer;
    font-size: 1rem;
    flex-shrink: 0; /* Prevent shrinking */
}
.sendButton:disabled {
    background-color: #6c757d;
    cursor: not-allowed;
}


.sidebarToggleButton {
    /* Removed absolute positioning */
    /* top: 15px; */
    /* left: 295px; */
    /* z-index: 25; */ /* May not be needed now */
    background: #eee;
    border: 1px solid #ccc;
    border-radius: 4px;
    padding: 5px 8px;
    cursor: pointer;
    transition: left 0.3s ease-in-out;
}

.sidebarToggleButtonHidden {
    /* This class now primarily controls the button shown when sidebar is hidden */
    position: absolute; /* Keep absolute for the hidden state button */
    top: 15px;
    left: 15px;
    z-index: 25; /* Ensure it's clickable */
}

/* --- Mobile Styles --- */
@media (max-width: 767px) {
    .chatSidebar {
        position: absolute;
        left: 0;
        top: 0;
        height: 100%;
        z-index: 20;
        width: 85%; /* Mobile width when open */
        min-width: auto; /* Override desktop min-width */
        border-right: none;
        box-shadow: 2px 0 5px rgba(0,0,0,0.1);
        transform: translateX(-100%); /* Hidden by default */
    }

    .chatSidebarVisible {
        transform: translateX(0); /* Slide in */
    }

    /* Remove hidden styles based on width for mobile, rely on transform */
    .chatSidebarHidden {
        width: 85%; /* Keep width for transition */
        min-width: auto;
        padding: 15px; /* Keep padding for content */
        border-right: none;
        overflow-y: auto;
        transform: translateX(-100%);
    }

    .mainChatArea {
        margin-left: 0 !important; /* Ensure no margin push */
        width: 100%; /* Take full width */
    }

    /* Adjustments for the button *inside* the sidebar on mobile */
    .chatSidebarVisible .sidebarToggleButton { /* Target button only when sidebar is visible */
       /* Reset potentially inherited absolute styles if needed */
       position: relative;
       top: auto;
       left: auto;
       z-index: auto;
    }

    /* The button shown when sidebar is hidden remains absolutely positioned */
    .sidebarToggleButtonHidden {
        left: 15px; /* Position when closed */
        /* No change needed here, it's handled by the base hidden style */
    }

    /* Adjust message bubble max-width for smaller screens */
    /* This would ideally go into a separate message bubble component CSS */
    /* Example: */
    /* .messageBubble { max-width: 85%; } */

    .inputControls {
        gap: 5px; /* Reduce gap */
    }
    .messageInput {
        padding: 10px 12px;
    }
    .sendButton {
        padding: 8px 15px;
    }
    .fileUploadButton {
        padding: 8px;
    }
}
